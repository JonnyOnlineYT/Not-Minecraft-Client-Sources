package dev.eternal.client.module.impl.exploit.disabler;

import dev.eternal.client.event.Subscribe;;
import dev.eternal.client.event.events.EventMove;
import dev.eternal.client.event.events.EventTeleport;
import dev.eternal.client.module.interfaces.IToggleable;
import dev.eternal.client.property.impl.mode.Mode;
import dev.eternal.client.util.network.PacketUtil;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.minecraft.network.play.client.C13PacketPlayerAbilities;

public class AACv5Mode extends Mode {
  public AACv5Mode(IToggleable owner, String name) {
    super(owner, name);
  }

  @Subscribe
  public void handleTeleport(EventTeleport eventTeleport) {
  }

  @Subscribe
  public void handleAbsMove(EventMove eventMove) {
    C13PacketPlayerAbilities packetPlayerAbilities = new C13PacketPlayerAbilities();
    packetPlayerAbilities.setFlying(true);
    PacketUtil.sendSilent(packetPlayerAbilities);
    if (mc.thePlayer.ticksExisted % 40 == 0)
      PacketUtil.sendSilent(new C03PacketPlayer.C04PacketPlayerPosition(0, 258382, 0, true));
  }
}
