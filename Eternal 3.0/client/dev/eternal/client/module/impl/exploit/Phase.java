package dev.eternal.client.module.impl.exploit;

import dev.eternal.client.event.Subscribe;;
import dev.eternal.client.event.events.EventUpdate;
import dev.eternal.client.module.Module;
import dev.eternal.client.module.api.ModuleInfo;
import dev.eternal.client.util.movement.data.Position;

@ModuleInfo(name = "Phase", description = "Allows you to move through blocks", category = Module.Category.EXPLOIT)
public class Phase extends Module {

  @Subscribe
  public void handleUpdate(EventUpdate eventUpdate) {
    mc.thePlayer.noClip = true;
    if (eventUpdate.groundState()) {
      Position position = eventUpdate.position();
      double oldPosY = position.posY();
      double newPosY = oldPosY - oldPosY % 0.015625;
      position.posY(newPosY);
      mc.thePlayer.setPosition(mc.thePlayer.posX, newPosY - 3, mc.thePlayer.posZ);
    }
  }
}
